# KB74_Portfolio_JustinKharpatoe
De portfolio van Justin Kharpatoe voor de minor KB74 (Applied Data Science)

## Structuur
* 1\. [DataCamp](#DataCamp)  
* 2\. [Coursera](#Coursera)  
* 3\. [Exploratory Data Analysis](#Exploratory_Data_Analysis)
* 4\. [Spark tutorials](#Spark_tutorials)
* 5\. [Presentaties](#Presentaties)  
* 6\. [Uitgevoerde taken voor het project](#Taken_project)  
* 7\. [Bullshit in Data Science](#Bullshit)  
  
---	
  
## 1 DataCamp <a name="DataCamp"></a>
In de map [DataCamp](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/DataCamp) staat bewijs voor de voltooide courses.
* [Screenshot.](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/DataCamp/VoltooideCourses.png)
* Voor de liefhebbers zijn [in de submap een aantal scripts](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/DataCamp/Scripts) opgeslagen die voorkwamen in de courses.
  
---
  
## 2 Coursera <a name="Coursera"></a>
In de map [Coursera](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Coursera) staat bewijs voor de voltooide Coursera courses d.m.v screenshots
* Screenshot van [week 1](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Coursera/Week1.png)  
* Screenshot van [week 2](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Coursera/Week2.png)  
* Screenshot van [week 3](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Coursera/Week3.png)  
* Screenshot van [week 6](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Coursera/Week6.png)  
* In de map [Programmeren](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Coursera/Programmeren) staat bewijs voor de voltooide programmeer opdrachten d.m.v. screenshots en code    
    * [Week 2](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Coursera/Programmeren/Week%202/ProgrammerenWeek2.PNG)
	* [Week 3 deel 1](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Coursera/Programmeren/Week%203/ProgrammerenWeek3_1.PNG) & [Week 3 deel 2](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Coursera/Programmeren/Week%203/ProgrammerenWeek3_2.PNG)
	* [Week 6](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Coursera/Programmeren/Week%206/ProgrammerenWeek6.PNG)
  
---
  
## 3 Exploratory Data Analysis <a name="Exploratory_Data_Analysis"></a>
De gemaakte notebooks zijn te vinden in de map [Exploratory Data Analysis](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Exploratory%20Data%20Analysis)
1. [Checking Data Edges](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/1.%20Checking%20Data%20Edges.md)
2. [Identifying variables](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/2.%20Identifying%20variables.md)
3. [Univariate Analysis](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/3.%20Univariate%20Analysis/3%20Univariate%20Analysis.md)
    * [Plot 1](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/3.%20Univariate%20Analysis/output_6_0.png)
	* [Plot 2](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/3.%20Univariate%20Analysis/output_10_1.png)
4. [Bivariate Analysis](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/4.%20Bivariate%20Analysis/4%20Bivariate%20Analysis.md)
    * [Plot 1](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/4.%20Bivariate%20Analysis/output_24_0.png)
	* [Plot 2](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/4.%20Bivariate%20Analysis/output_24_1.png)
	* [Plot 3](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/4.%20Bivariate%20Analysis/output_24_2.png)
	* [Plot 4](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/4.%20Bivariate%20Analysis/output_24_3.png)
	* [Plot 5](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/4.%20Bivariate%20Analysis/output_24_4.png)
	* [Plot 6](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/4.%20Bivariate%20Analysis/output_24_5.png)
	* [Plot 7](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/4.%20Bivariate%20Analysis/output_26_0.png)
	* [Plot 8](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/4.%20Bivariate%20Analysis/output_33_0.png)
	* [Plot 9](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/4.%20Bivariate%20Analysis/output_33_1.png)
	* [Plot 10](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/4.%20Bivariate%20Analysis/output_33_2.png)
	* [Plot 11](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/4.%20Bivariate%20Analysis/output_33_3.png)
5. [Missing Values](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/5.%20Missing%20Values.md)
6. [Outliers](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/6.%20Outliers/6%20Outliers.md)
    * [Plot 1](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/6.%20Outliers/output_8_1.png)
7. [Data Transformation](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/7.%20Data%20Transformation/7%20Data%20Transformation.md)
	* [Plot 1](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/7.%20Data%20Transformation/output_9_0.png)
	* [Plot 2](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/7.%20Data%20Transformation/output_9_1.png)
	* [Plot 3](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/7.%20Data%20Transformation/output_14_0.png)
	* [Plot 4](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/7.%20Data%20Transformation/output_14_1.png)
	* [Plot 5](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/7.%20Data%20Transformation/output_16_0.png)
	* [Plot 6](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/7.%20Data%20Transformation/output_16_1.png)
	* [Plot 7](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/7.%20Data%20Transformation/output_19_0.png)
	* [Plot 8](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/7.%20Data%20Transformation/output_19_1.png)
	* [Plot 9](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/7.%20Data%20Transformation/output_22_0.png)
	* [Plot 10](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/7.%20Data%20Transformation/output_23_0.png)
	* [Plot 11](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/7.%20Data%20Transformation/output_27_0.png)
	* [Plot 12](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/7.%20Data%20Transformation/output_28_0.png)
	* [Plot 13](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/7.%20Data%20Transformation/output_28_1.png)
8. [Creating Variables](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/8.%20Creating%20Variables.md)
9. [Evaluate](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Exploratory%20Data%20Analysis/9.%20Evaluate.md)
    
--- 

## 4 Spark tutorials <a name="Spark_tutorials"></a>
De gemaakte notebooks zijn te vinden in de map [Spark tutorials](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Spark%20tutorials)
* [Assignment 1](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/assignment1.md)
* [Assignment 2](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/assignment2.md)
1. [RDD collection](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/Tutorials/1%20rdd%20collection.md)
2. [RDD file](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/Tutorials/2%20rdd%20file.md)
3. [Actions](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/Tutorials/3%20actions.md)
4. [Key values](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/Tutorials/4%20key%20values.md)
5. [Set operations](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/Tutorials/5%20set%20operations.md)
6. [Join](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/Tutorials/6%20join.md)
7. [Advanced RDD](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/Tutorials/7%20advanced%20rdd.md)
8. [Statistics](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/Tutorials/8%20statistics.md)
9. [Broadcast](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/Tutorials/9%20broadcast.md)
10. [Dataframes](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/Tutorials/10%20dataframes.md)
11. [SQL](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/Tutorials/11%20sql.md)
12. [Plot](https://raw.githubusercontent.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/master/Spark%20tutorials/Tutorials/12%20plot.md)
13. [Json](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/Tutorials/13%20json.md)
14. [Csv2DtoList](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/Tutorials/14%20csv2DtoList.md)
15. [RDF](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Spark%20tutorials/Tutorials/15%20rdf.md)
      
---
  
## 5 Presentaties <a name="Presentaties"></a>
Presentaties waar ik bij betrokken was:
* [Week 1 (01-09-2017)](https://docs.google.com/presentation/d/19Iks0ZiQG2BRc_Mlws4JroSeeY66rIe7clJoQG2OQgQ/edit?usp=sharing)
* [Week 5 (29-09-2017)](https://docs.google.com/presentation/d/10pyjl8uo7GWYVokAic3fClKWJ0HHvUdUFRVBI4AedE8/edit?usp=sharing)
* [Week 10 (10-11-2017)](https://docs.google.com/presentation/d/1NBo-IDumMtti49HlvJk8EJvtYPltH3c8vObeci7ETPI/edit?usp=sharing)
* [Week 14 (01-12-2017)](https://drive.google.com/open?id=1EnGn19uR3n2Fei8axiCkhVEKz6UVyqGi)
* [Week 17 (12-01-2018)](https://docs.google.com/presentation/d/1CEky0LD1tvlZWhuVjVuKb9g9n-M6dqfTri8_zsZGny0/edit?usp=sharing)
  
---
  
## 6 Uitgevoerde taken voor het project <a name="Taken_project"></a>
De taken zijn per onderwerp op chronologische volgorde weergegeven  

Om een idee te krijgen van voorafgaande projecten, zijn een aantal documenten doorgelezen. Deze documenten van eerdere studenten zijn [samengevat](https://docs.google.com/document/d/1B2aVJnIshw9VviJsPL9ZuDHiEiKkeah67Yfn-D8v9U0/edit?usp=sharing).
Uit het bestand met de samenvattingen, heb ik gewerkt aan de volgende:
* [x] Foutdetectie van sensoren in het klimaatregelsysteem
* [x] Onderzoeksrapport visualisatie  


Aan het begin van de minor is al een start gemaakt met het onderzoeksrapport, hiervan heb ik de volgende hoofdstukken gemaakt:
* [x] [Aanleiding](https://docs.google.com/document/d/1A0goLR-UwdK0Yzf0kNSPONY4m_gPkySrOc6TvJWvYp8/edit?usp=sharing)
* [x] [Probleemstelling](https://docs.google.com/document/d/1GNvwjAXR1yeKmBYHNozXt-6YAk9hqL0YTXbfDKZ2xWo/edit?usp=sharing)  


Het leek ons handig om de belanghebbende in kaart te brengen d.m.v. een [stakeholders analyse](https://docs.google.com/document/d/1_ye6ioAlbb7o5IaEB9R8WoXjYITNqxEaVof3VodFhtA/edit?usp=sharing).
Ik heb gewerkt aan:
* [x] Inleiding (stuk onder de eerste kop)
* [x] Arie Taal  


Om niet opnieuw het wiel uit te vinden, is onderzoek gedaan naar bestaande tools. De uitkomsten zijn gedocumenteerd in dit verslag [onderzoeken van visualisatie tools](https://docs.google.com/document/d/1AB1OfIc8YVoMMScqCCOqiVHgcgTqMviEvohnUiASTH4/edit?usp=sharing).
Van de vele applicaties heb ik er drie bestudeerd:
* [x] Building EQ
* [x] SAW (Expert)
* [x] SAW (GeNIe Smile)    
    
	
Ons project is opgedeeld in drie groepen; Deep Learning, Rule-based systems en Bayesian Belief Network. Ik hoor bij de laatste groep, en hiervoor heb ik het volgende gedaan:
* [x] [Ruwe data aanpassen volgens regels (rule values)](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/RawToRule.py)    
* [x] [Ruwe data aanpassen volgens regels (rule values)](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/RawToRule_Ventilation.py) voor een verbeterd [BBN model (gekregen van Arie Taal)](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Project/Ventilation4.xdsl)  
* [x] [Data representeren in een plot](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/PlotData.py)    
* [ ] De bestaande [smile app](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/Qt%20projecten/smileApp) (waarin de data icm het BBN model wordt verwerkt) aanpassen.
  * [x] Lees laatste regel in
    * In de oude versie wordt de laatste dataregel niet geanalyseerd, hierdoor moet elke CSV *twee* lege regels bevatten aan het einde van het bestand.
	* **Oplossing**: er was een lijn code in het bestand [import.cpp](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/4870eb8a3fd4456e16648a4770b5675fa98d7e44/Project/Qt%20projecten/smileApp/datacenter/import.cpp#L103) die de laatste regel ALTIJD verwijderd, deze is weggehaald:
	
	   ```C++
	   allData.erase(allData.end()-1);
	   ```
	* De oplossing is getest in [dit Qt project](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/Qt%20projecten/ImportCSV_Test)
  * [x] Verschillende soorten delimiters accepteren
    * Een CSV bestand wordt alleen geaccepteerd als het *komma's* gesepareerd is, anders crashed het programma. 
	* **Oplossing**: dmv *regular expressions* worden nu ',', ';' & '\t' gesepareerde bestanden geaccepteerd door op de eerste regel (regel met kolomnamen) te zoeken naar de eerst voorkomende delimiter in het bestand [import.cpp](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/4870eb8a3fd4456e16648a4770b5675fa98d7e44/Project/Qt%20projecten/smileApp/datacenter/import.cpp#L82):
	   
	   ```C++
	   QString headerRow = rowOfData.at(0);
	   std::size_t delimPos = headerRow.toStdString().find_first_of(",;\t");
	   QString delim = headerRow.at(delimPos);
	   ```
	* De oplossing is getest in [dit Qt project](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/Qt%20projecten/ImportCSV_Test)
  * [x] Oude database data gebruiken
    * Op dit moment is er geen connectie met een database, voor het automatiseren en voor gebruiksgemak is een connectie wel nodig.
	* [x] Überhaupt connectie
	  * Voor de connectie met de oude database moest het een en ander verplaatst worden van de SAW applicatie (waar al connectie gemaakt kan worden) naar de Smile app. 
	  
	     Voor het importeren vanuit de database wordt een nieuw venster geopend waarin de nodige gegevens ingevuld kunnen worden.
		 Het eerste probleem dat naar voren kwam was dat sommige sensoren niet werden opgehaald (ook in de SAW applicatie), het ging hierbij om de CO2 en “ambient temperature”:
		 
		 In de functie `void addNormalSensors()` van [windowconnectdatabase.cpp](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/4870eb8a3fd4456e16648a4770b5675fa98d7e44/Project/Qt%20projecten/smileApp/windowconnectdatabase.cpp#L382):
	     `normalSensors[k]==37 && sensornaam.mid(0,12)=="MeasCO2Level"`    →    `normalSensors[k]==37 && sensornaam.mid(0,9)=="CO2 Level"`  
         In de functie `void on_checkTempIr_clicked()` van [windowconnectdatabase.cpp](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/4870eb8a3fd4456e16648a4770b5675fa98d7e44/Project/Qt%20projecten/smileApp/windowconnectdatabase.cpp#L519):
	     `normalSensors.push_back(48);`     →     `normalSensors.push_back(5);`
		 
         Bij CO2 werd dus gekeken naar een verkeerde omschrijving, en bij de temperatuur werd de verkeerde fieldtype toegevoegd (48 is air flow).
	  * De oplossing is getest in de volgende Qt projecten:  
	    * [Conecctie](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/Qt%20projecten/connectDatabase_Test)
	    * [Pop-up window](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/Qt%20projecten/PopUp_Test)
	* [x] Data exporten
	  * Op in ieder geval twee momenten moet de data geëxporteerd kunnen worden; als het is opgehaald van de database (ruwe waardes) en als het is geanalyseerd, dus het resultaat. Verder is het ook nog mogelijk om de rule waardes op te slaan.
	  * De eerste wordt gedaan in de functie `void windowConnectDatabase::on_pushExportCSV_clicked()` van [windowconnectdatabase.cpp](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/4870eb8a3fd4456e16648a4770b5675fa98d7e44/Project/Qt%20projecten/smileApp/windowconnectdatabase.cpp#L406)
	  * Om de rule waardes te kunnen exporteren wordt een [pop-up venster geopend nadat de database data is geanalyseerd](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/4870eb8a3fd4456e16648a4770b5675fa98d7e44/Project/Qt%20projecten/smileApp/mainwindow.cpp#L451) (tot en met regel 464)
	  * De laatste export optie is het [exporteren van het resultaat](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/4870eb8a3fd4456e16648a4770b5675fa98d7e44/Project/Qt%20projecten/smileApp/mainwindow.cpp#L1363).
	* [x] Data gebruiken in de smileApp (data analyseren)
	  * Op dit moment kan analyseren helaas alleen voor lokalen met een maximum airflow van 80 m/s, omdat de waarde van een hoge airflow nog niet bepaald is voor de andere lokalen. Maar hier is alsnog hoe te werk wordt gegaan.  
	  
	    De data uit de database moet worden geconverteerd naar ‘rule values’ zodat het gebruikt kan worden voor analyse met het BBN model (Ventilation4). Daarom is de functie [convertDataDabase()](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/4870eb8a3fd4456e16648a4770b5675fa98d7e44/Project/Qt%20projecten/smileApp/datacenter/convertdata.cpp#L452) aangemaakt. Het nadeel van deze functie is dat het alleen werkt met het [huidige BBN model](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/master/Project/Ventilation4.xdsl).  
		De functie returned een `std::vector< std::vector<T> >`, waarbij 'T' een `float` of een `QString` is (zijn wel beide aparte functies). De functie geeft een lege vector terug als een operatie niet lukt, en een vector met ‘rule values’ als dit wel lukt. In de MainWindow wordt de return waarde opgevangen door lokale variabele. Deze worden daarna in een if statement gecheckt of ze leeg zijn door `“variabele”.empty()`:  
		```C++
        if(newSensorData.empty() || newData.empty()) {
            return;
        }
		```

		Als eerst wordt er ruimte gereserveerd voor de nieuwe data:  
		`std::vector< std::vector<float> > ruleData(newColumn[0].size(), std::vector<float>(data.size()));`  
		Deze is negen bij X, waar X het aantal datapunten is van de te converteren data. Er wordt van te voren geheugen gealloceerd zodat in de code erna, een waarde op een “willekeurige” plek kan worden toegekend.
		Daarna moeten een viertal limieten worden gedefinieerd, Dit zijn een paar voorbeelden van vier vorige grenswaardes:  
		* Lage CO2	= 418
		* Hoge CO2	= 630
		* Lage airflow	= 7
		* Hoge airflow 	= 70  
		
		De waardes zijn bepaald door middel van de 25e percentiel en 75e percentiel op de dataset van 2.008: 2014-2015 (per uur).
		De hoge en lage CO2 blijven hetzelfde voor elk lokaal, maar de airflow grenzen niet. Verschillende lokalen hebben namelijk verschillende maximale airflow. Op dit moment wordt de hoge airflow bepaalt door 75%, en de lage airflow door 10% te nemen van de maximale airflow. Voordat dit gedaan wordt, wordt data tussen 7 en 23 uur genomen omdat hiertussen het gebouw ‘actief’ is. De uitkomsten staan in een csv ([highAirflowData](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/highAirflowData.csv)) in de map [‘smileLab’](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/Qt%20projecten/smileApp/release/smileLab).  

		Daarna moeten de kolommen van CO2, airflow en de PIR sensor achterhaald worden. Dit gebeurd in de functie [getColPos()](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/blob/4870eb8a3fd4456e16648a4770b5675fa98d7e44/Project/Qt%20projecten/smileApp/datacenter/convertdata.cpp#L731), deze neemt als argumenten een vector van QStrings en drie references naar variabelen. In de functie wordt gezocht naar kolomnamen die of “CO2, of “Air”, of “PIR” bevatten. De positie wordt dan opgeslagen in de relevante meegegeven reference. Als alle drie de kolommen zijn gevonden, wordt `True` gereturned. Daarna worden de drie variabelen met twee verlaagt, omdat de kolommen "Datum" en "Tijd" worden gestript van de "echte" data maar niet van de headerData.  
		Mocht een kolom niet gevonden worden, dan wordt `False` gereturned. De return waarde wordt opgevangen in een if statement die een warning genereert als `False` is gereturned door de vorige functie, en zal daarna een lege vector terugsturen. 

		In de volgende stuk code worden de waardes omgezet in enen en nullen. De eerste for loop, loopt over `data.size();` het aantal rijen. En de tweede for loop, loopt over `data[i].size()` (het aantal kolommen), waarbij i wordt gedefinieerd in de vorige for loop. In de tweede for loop wordt gecontroleerd op de kolommen in if statements:  
		```C++
		if(j == CO2pos)
		else if(j == Airpos)
		else if(j == PIRpos)
		```
	  * Bovenstaande code is getest in [dit Qt project](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/Qt%20projecten/RawToRule_Test)
  * [ ] Nieuwe database data gebruiken
    * [ ] Connectie
    * [ ] Data exporteren
    * [ ] Data gebruiken in smile (data analyseren)
  * [ ] Beter ontwerp maken (klassen relaties e.d.)  
    * Het ontwerp voldoet nu aan geen een ontwerp patroon, voor uitbreidbaarheid is dit eigenlijk wel nodig.
  * [ ] Error afhandeling  
    * Tot nu toe moeten veel handelingen stapsgewijs gebeuren en kunnen ze niet zonder de output van de vorige stap.  
    
      Door bijvoorbeeld checks te gebruiken hoeft de smileApp niet persé te crashen.
  * [ ] Automatiseren
    * Het liefst wil de gebouwbeheerder meldingen ontvangen zonder er wat voor te doen, dat wordt (ongeveer) met automatiseren bedoeld.
  * [ ] Resultaten <mooi> weergeven
    * De resultaten worden nu nog in een (lelijke) tabel gegooid, voor snellere analyse (door bijvoorbeeld de gebouwbeheerder) is het noodzakelijk om de defecten eruit te laten springen.
	
Het [onderzoeksverslag](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/Onderzoeksverslag_Smartbuilding_2.1.pdf)  
* [x] Samenvatting (samen met Bob Tuynman)  
* [x] 1 Inleiding (samen met Bob Tuynman)    
* [x] 2 Theoretisch kader: 2.5 Het BBN model  
* [x] 3 Methoden: 3.2 Bayesian Belief Network  
* [x] 4 Resultaten: 4.2.1 Analyse in een C++ applicatie  
* [x] 5 Conclusies: Alle tekst wat te maken heeft met de analyse in een C++ applicatie  
  
De [paper](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/Paper_SmartBuilding.pdf)  
* [x] 4 Bayesian Belief Networks
* [x] 7 Results: BBN 'smileApp' gedeelte
	
Overige werkzaamheden
* [x] In Excel [data per kwartier overhouden ipv per 5 minuten](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/KwartierOverhouden.bas)
* [x] Op de JupyterHub [alle airflow data ophalen en voorverwerken](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/Justin_SchoonAirflowData.md) (hierdoor worden ~ 131 miljoen regels aan data, "maar" ~ 8 miljoen) & [hoge en lage airflow vaststellen](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/Justin_BepaalAirflowGrenzen.md)
  * Dit is toegepast in het [testproject](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Project/Qt%20projecten/flexibeleHighAirflow_Test) dat geschreven is in C++
  
---
  
## 7 Bullshit in Data Science <a name="Bullshit"></a>  
In het document [Bullshit_in_Data_Science.docx](https://github.com/JustinKharpatoe/KB74_Portfolio_JustinKharpatoe/tree/master/Bullshit%20in%20Data%20Science/Bullshit_in_Data_Science.docx?raw=true) is het volgende te vinden:  
* In de eerste opdracht wordt per categorie (nieuws, wetenschappelijk artikellen, overige artikellen/tweets etc., video's & grafieken) twee gevonden voorbeelden van bullshit uitgewerkt.
* Voor opdracht twee moet je zelf geproduceerde bullshit opschrijven (min. vijf voorbeelden).
* De derde opdracht gaat over het uitwerken van één voorbeeld van opdracht een volgens het volgende format:
  * Waarom is het bullshit?
  * Hoe is de bullshit ontstaan?
  * Wat voor consequenties heeft of kan het verspreiden van deze bullshit hebben?
* Bij opdracht vier moet je aangeven wat je tegen het voorbeeld van opdracht 3 kan doen of hebt gedaan.  
  
